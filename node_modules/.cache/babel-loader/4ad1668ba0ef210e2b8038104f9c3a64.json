{"ast":null,"code":"const logger = require('../logger')(__filename);\n\nconst scrapSection = require('../scrapSection');\n\nconst SEE_MORE_SELECTOR = 'a[data-control-name=contact_see_more]';\nconst CLOSE_MODAL_SELECTOR = '.artdeco-modal__dismiss';\nconst template = {\n  selector: '.pv-contact-info__contact-type',\n  fields: {\n    type: 'header',\n    values: {\n      selector: '.pv-contact-info__ci-container',\n      isMultipleFields: true\n    },\n    links: {\n      selector: 'a',\n      attribute: 'href',\n      isMultipleFields: true\n    }\n  }\n};\n\nconst getContactInfo = async page => {\n  await page.waitFor(SEE_MORE_SELECTOR, {\n    timeout: 2000\n  }).catch(() => {\n    logger.warn('contact-info', 'selector not found');\n    return {};\n  });\n  const element = await page.$(SEE_MORE_SELECTOR);\n\n  if (element) {\n    await element.click();\n    const contactInfoIndicatorSelector = '#pv-contact-info';\n    await page.waitFor(contactInfoIndicatorSelector, {\n      timeout: 5000\n    }).catch(() => {\n      logger.warn('contact info was not found');\n    });\n    const contactInfo = await scrapSection(page, template);\n    const closeButton = await page.$(CLOSE_MODAL_SELECTOR);\n    if (closeButton) await closeButton.click();\n    return contactInfo;\n  }\n};\n\nmodule.exports = getContactInfo;","map":{"version":3,"sources":["/Users/pro/Desktop/Projects/yesume/node_modules/scrapedin/src/profile/contactInfo.js"],"names":["logger","require","__filename","scrapSection","SEE_MORE_SELECTOR","CLOSE_MODAL_SELECTOR","template","selector","fields","type","values","isMultipleFields","links","attribute","getContactInfo","page","waitFor","timeout","catch","warn","element","$","click","contactInfoIndicatorSelector","contactInfo","closeButton","module","exports"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,UAArB,CAAf;;AACA,MAAMC,YAAY,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AAEA,MAAMG,iBAAiB,GAAG,uCAA1B;AACA,MAAMC,oBAAoB,GAAG,yBAA7B;AAEA,MAAMC,QAAQ,GAAG;AACfC,EAAAA,QAAQ,EAAE,gCADK;AAEfC,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAE,QADA;AAENC,IAAAA,MAAM,EAAE;AACNH,MAAAA,QAAQ,EAAE,gCADJ;AAENI,MAAAA,gBAAgB,EAAE;AAFZ,KAFF;AAMNC,IAAAA,KAAK,EAAE;AACLL,MAAAA,QAAQ,EAAE,GADL;AAELM,MAAAA,SAAS,EAAE,MAFN;AAGLF,MAAAA,gBAAgB,EAAE;AAHb;AAND;AAFO,CAAjB;;AAeA,MAAMG,cAAc,GAAG,MAAMC,IAAN,IAAe;AACpC,QAAMA,IAAI,CAACC,OAAL,CAAaZ,iBAAb,EAAgC;AAAEa,IAAAA,OAAO,EAAE;AAAX,GAAhC,EACHC,KADG,CACG,MAAM;AACXlB,IAAAA,MAAM,CAACmB,IAAP,CAAY,cAAZ,EAA4B,oBAA5B;AACA,WAAO,EAAP;AACD,GAJG,CAAN;AAMA,QAAMC,OAAO,GAAG,MAAML,IAAI,CAACM,CAAL,CAAOjB,iBAAP,CAAtB;;AACA,MAAGgB,OAAH,EAAW;AACT,UAAMA,OAAO,CAACE,KAAR,EAAN;AACA,UAAMC,4BAA4B,GAAG,kBAArC;AACA,UAAMR,IAAI,CAACC,OAAL,CAAaO,4BAAb,EAA2C;AAAEN,MAAAA,OAAO,EAAE;AAAX,KAA3C,EACDC,KADC,CACK,MAAM;AACXlB,MAAAA,MAAM,CAACmB,IAAP,CAAY,4BAAZ;AACD,KAHC,CAAN;AAKA,UAAMK,WAAW,GAAG,MAAMrB,YAAY,CAACY,IAAD,EAAOT,QAAP,CAAtC;AACA,UAAMmB,WAAW,GAAG,MAAMV,IAAI,CAACM,CAAL,CAAOhB,oBAAP,CAA1B;AACA,QAAGoB,WAAH,EACE,MAAMA,WAAW,CAACH,KAAZ,EAAN;AAEF,WAAOE,WAAP;AACD;AAEF,CAxBD;;AA0BAE,MAAM,CAACC,OAAP,GAAiBb,cAAjB","sourcesContent":["const logger = require('../logger')(__filename)\nconst scrapSection = require('../scrapSection')\n\nconst SEE_MORE_SELECTOR = 'a[data-control-name=contact_see_more]'\nconst CLOSE_MODAL_SELECTOR = '.artdeco-modal__dismiss';\n\nconst template = {\n  selector: '.pv-contact-info__contact-type',\n  fields: {\n    type: 'header',\n    values: {\n      selector: '.pv-contact-info__ci-container',\n      isMultipleFields: true\n    },\n    links: {\n      selector: 'a',\n      attribute: 'href',\n      isMultipleFields: true\n    }\n  }\n} \nconst getContactInfo = async(page) => {\n  await page.waitFor(SEE_MORE_SELECTOR, { timeout: 2000 })\n    .catch(() => {\n      logger.warn('contact-info', 'selector not found')\n      return {}\n    })\n\n  const element = await page.$(SEE_MORE_SELECTOR)\n  if(element){\n    await element.click()\n    const contactInfoIndicatorSelector = '#pv-contact-info'\n    await page.waitFor(contactInfoIndicatorSelector, { timeout: 5000 })\n        .catch(() => {\n          logger.warn('contact info was not found')\n        })\n    \n    const contactInfo = await scrapSection(page, template)\n    const closeButton = await page.$(CLOSE_MODAL_SELECTOR)\n    if(closeButton)\n      await closeButton.click()\n\n    return contactInfo\n  }\n  \n}\n\nmodule.exports = getContactInfo\n"]},"metadata":{},"sourceType":"script"}