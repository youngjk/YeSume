{"ast":null,"code":"const logger = require('../logger')(__filename);\n\nconst pkg = require('../package');\n\nmodule.exports = profile => {\n  if (!profile.profile.name) {\n    const messageError = `LinkedIn website changed and ${pkg.name} ${pkg.version} can't read basic data. Please report this issue at ${pkg.bugs.url}`;\n    logger.error(messageError, '');\n    throw new Error(messageError);\n  }\n\n  profile.profile.summary = profile.about.text;\n  profile.positions.forEach(position => {\n    if (position.title) {\n      position.title = position.title.replace('Company Name\\n', '');\n    }\n\n    if (position.description) {\n      position.description = position.description.replace('See more', '');\n      position.description = position.description.replace('see more', '');\n      position.description = position.description.replace('See less', '');\n    }\n\n    if (position.roles) {\n      position.roles.forEach(role => {\n        if (role.title) {\n          role.title = role.title.replace('Title\\n', '');\n        }\n\n        if (role.description) {\n          role.description = role.description.replace('See more', '');\n          role.description = role.description.replace('see more', '');\n        }\n      });\n    }\n  });\n\n  if (profile.recommendations.receivedCount) {\n    profile.recommendations.receivedCount = profile.recommendations.receivedCount.replace(/[^\\d]/g, '');\n  }\n\n  if (profile.recommendations.givenCount) {\n    profile.recommendations.givenCount = profile.recommendations.givenCount.replace(/[^\\d]/g, '');\n  }\n\n  if (profile.recommendations.received) {\n    profile.recommendations.received.forEach(recommendation => {\n      if (recommendation.summary) {\n        recommendation.summary = recommendation.summary.replace('See more', '');\n        recommendation.summary = recommendation.summary.replace('See less', '');\n      }\n    });\n  }\n\n  if (profile.recommendations.given) {\n    profile.recommendations.given.forEach(recommendation => {\n      if (recommendation.summary) {\n        recommendation.summary = recommendation.summary.replace('See more', '');\n        recommendation.summary = recommendation.summary.replace('See less', '');\n      }\n    });\n  }\n\n  if (profile.courses) {\n    profile.courses = profile.courses.map(({\n      name,\n      year\n    }) => {\n      const coursesObj = {};\n\n      if (name) {\n        coursesObj.name = name.replace('Course name\\n', '');\n      }\n\n      if (year) {\n        coursesObj.year = year.replace('Course number\\n', '');\n      }\n\n      return coursesObj;\n    });\n  }\n\n  if (profile.languages) {\n    profile.languages = profile.languages.map(({\n      name,\n      proficiency\n    }) => ({\n      name: name ? name.replace('Language name\\n', '') : undefined,\n      proficiency\n    }));\n  }\n\n  if (profile.projects) {\n    profile.projects = profile.projects.map(({\n      name,\n      date,\n      description,\n      link\n    }) => ({\n      name: name ? name.replace('Project name\\n', '') : undefined,\n      date,\n      description: description ? description.replace('Project description\\n', '') : undefined,\n      link\n    }));\n  }\n\n  return profile;\n};","map":{"version":3,"sources":["/Users/pro/Desktop/Projects/yesume/node_modules/scrapedin/src/profile/cleanProfileData.js"],"names":["logger","require","__filename","pkg","module","exports","profile","name","messageError","version","bugs","url","error","Error","summary","about","text","positions","forEach","position","title","replace","description","roles","role","recommendations","receivedCount","givenCount","received","recommendation","given","courses","map","year","coursesObj","languages","proficiency","undefined","projects","date","link"],"mappings":"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","sourcesContent":["const logger = require('../logger')(__filename)\nconst pkg = require('../package')\n\nmodule.exports = (profile) => {\n  if(!profile.profile.name) {\n    const messageError = `LinkedIn website changed and ${pkg.name} ${pkg.version} can't read basic data. Please report this issue at ${pkg.bugs.url}`\n    logger.error(messageError, '')\n    throw new Error(messageError)\n  }\n\n  profile.profile.summary = profile.about.text\n\n  profile.positions.forEach((position) => {\n    if(position.title){\n        position.title = position.title.replace('Company Name\\n', '')\n    }\n    if(position.description) {\n      position.description = position.description.replace('See more', '');\n      position.description = position.description.replace('see more', '');\n\t    position.description = position.description.replace('See less', '');\n    }\n    if(position.roles) {\n      position.roles.forEach((role) => {\n        if(role.title) {\n          role.title = role.title.replace('Title\\n', '')\n        }\n        if(role.description) {\n          role.description = role.description.replace('See more', '')\n          role.description = role.description.replace('see more', '')\n        }\n      })\n    }\n  })\n\n  if(profile.recommendations.receivedCount) {\n    profile.recommendations.receivedCount = profile.recommendations.receivedCount.replace(/[^\\d]/g, '')\n  }\n\n  if(profile.recommendations.givenCount) {\n    profile.recommendations.givenCount = profile.recommendations.givenCount.replace(/[^\\d]/g, '')\n  }\n\n  if(profile.recommendations.received) {\n    profile.recommendations.received.forEach((recommendation) => {\n      if(recommendation.summary){\n        recommendation.summary = recommendation.summary.replace('See more', '')\n        recommendation.summary = recommendation.summary.replace('See less', '')\n      }\n    })\n  }\n\n  if(profile.recommendations.given) {\n    profile.recommendations.given.forEach((recommendation) => {\n      if(recommendation.summary){\n        recommendation.summary = recommendation.summary.replace('See more', '')\n        recommendation.summary = recommendation.summary.replace('See less', '')\n      }\n    })\n  }\n\n  if(profile.courses){\n    profile.courses = profile.courses.map(({ name, year }) => {\n      const coursesObj = {}\n      if(name) {\n        coursesObj.name = name.replace('Course name\\n', '')\n      }\n      if(year) {\n        coursesObj.year = year.replace('Course number\\n', '')\n      }\n      return coursesObj\n    }\n    );\n  }\n\n  if(profile.languages){\n    profile.languages = profile.languages.map(({ name, proficiency }) => ({\n      name: name ? name.replace('Language name\\n', '') : undefined,\n      proficiency,\n    }));\n  }\n\n  if(profile.projects){\n    profile.projects = profile.projects.map(\n      ({ name, date, description, link }) => ({\n        name: name ? name.replace('Project name\\n', '') : undefined,\n        date,\n        description: description ? description.replace('Project description\\n', '') : undefined,\n        link,\n      }),\n    );\n  }\n  \n  return profile\n}\n"]},"metadata":{},"sourceType":"script"}