{"ast":null,"code":"const logger = require('../logger')(__filename);\n\nmodule.exports = async page => {\n  const MAX_TIMES_TO_SCROLL = 25;\n  const TIMEOUT_BETWEEN_SCROLLS = 500;\n  const PAGE_BOTTOM_SELECTOR_STRING = '#expanded-footer';\n\n  for (let i = 0; i < MAX_TIMES_TO_SCROLL; i++) {\n    await page.evaluate(() => window.scrollBy(0, window.innerHeight));\n    const hasReachedEnd = await page.waitForSelector(PAGE_BOTTOM_SELECTOR_STRING, {\n      visible: true,\n      timeout: TIMEOUT_BETWEEN_SCROLLS\n    }).catch(() => {\n      logger.info(`scrolling to page bottom (${i + 1})`);\n    });\n\n    if (hasReachedEnd) {\n      return;\n    }\n  }\n\n  logger.warn('page bottom not found');\n};","map":{"version":3,"sources":["/Users/pro/Desktop/Projects/yesume/node_modules/scrapedin/src/profile/scrollToPageBottom.js"],"names":["logger","require","__filename","module","exports","page","MAX_TIMES_TO_SCROLL","TIMEOUT_BETWEEN_SCROLLS","PAGE_BOTTOM_SELECTOR_STRING","i","evaluate","window","scrollBy","innerHeight","hasReachedEnd","waitForSelector","visible","timeout","catch","info","warn"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,UAArB,CAAf;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAOC,IAAP,IAAgB;AAC/B,QAAMC,mBAAmB,GAAG,EAA5B;AACA,QAAMC,uBAAuB,GAAG,GAAhC;AACA,QAAMC,2BAA2B,GAAG,kBAApC;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,mBAApB,EAAyCG,CAAC,EAA1C,EAA8C;AAC5C,UAAMJ,IAAI,CAACK,QAAL,CAAc,MAAMC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmBD,MAAM,CAACE,WAA1B,CAApB,CAAN;AAEA,UAAMC,aAAa,GAAG,MAAMT,IAAI,CAACU,eAAL,CAAqBP,2BAArB,EAAkD;AAC5EQ,MAAAA,OAAO,EAAE,IADmE;AAE5EC,MAAAA,OAAO,EAAEV;AAFmE,KAAlD,EAGzBW,KAHyB,CAGnB,MAAM;AACblB,MAAAA,MAAM,CAACmB,IAAP,CAAa,6BAA4BV,CAAC,GAAG,CAAE,GAA/C;AACD,KAL2B,CAA5B;;AAOA,QAAIK,aAAJ,EAAmB;AACjB;AACD;AACF;;AAEDd,EAAAA,MAAM,CAACoB,IAAP,CAAY,uBAAZ;AACD,CArBD","sourcesContent":["const logger = require('../logger')(__filename)\n\nmodule.exports = async (page) => {\n  const MAX_TIMES_TO_SCROLL = 25\n  const TIMEOUT_BETWEEN_SCROLLS = 500\n  const PAGE_BOTTOM_SELECTOR_STRING = '#expanded-footer'\n\n  for (let i = 0; i < MAX_TIMES_TO_SCROLL; i++) {\n    await page.evaluate(() => window.scrollBy(0, window.innerHeight))\n\n    const hasReachedEnd = await page.waitForSelector(PAGE_BOTTOM_SELECTOR_STRING, {\n      visible: true,\n      timeout: TIMEOUT_BETWEEN_SCROLLS\n    }).catch(() => {\n      logger.info(`scrolling to page bottom (${i + 1})`)\n    })\n\n    if (hasReachedEnd) {\n      return\n    }\n  }\n\n  logger.warn('page bottom not found')\n}\n"]},"metadata":{},"sourceType":"script"}